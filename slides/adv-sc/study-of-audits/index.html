<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Case Study of Audits</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="natchineth.com/index.xml">
		<link rel="canonical" href="natchineth.com/slides/adv-sc/study-of-audits/">
		<link rel="shortcut icon" type="image/png" href="natchineth.com/apple-touch-icon-precomposed.png">
		
		
		<meta name="generator" content="Hugo 0.55.6" />

		
		<meta property="og:title" content="Case Study of Audits" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="natchineth.com" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="natchineth.com/slides/adv-sc/study-of-audits/" />
		<meta property="og:site_name" content="Case Study of Audits" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
					<link rel="stylesheet" type="text/css" href="natchineth.com/css/apron.css"></style>
					<link rel="stylesheet" type="text/css" href="natchineth.com/css/descartes.css"></style>
					<link rel="stylesheet" type="text/css" href="natchineth.com/css/adirondack.css"></style><style type="text/css">
		 
		@page {
				  size:  1216px 684px; 
				  margin: 0;
		}
		</style>
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">


		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="natchineth.com/js/story.js"></script>

	</head>
	<body class="ma0 bg-white section-slides page-kind-page is-page-true ">
		
  

		<main role="main">
		
    <textarea id="source">class: title
# Case Study of Audits 

---
# Agenda

1. Audits 
 - Code Security 
 - Design Decisions and Architecture 
 - Code Quality
2. Competition: Case Study of Contracts

---
# Goals of an Audit

 - Code Security 
 - Code Architecture 
 - Code Quality

---
# Audit Process 

## Auditing Companies 

 - Quantstamp
 - Trail of Bits 
 - ChainSecurity
 - Hosho
 - Open Zeppelin

---
# Audit Handoff

- Most recent version of code
- Explanation of how code is supposed to work 
- Description of particular areas of code that are complex

---
class: title
# Source Code: ZIP file on Blackboard

---

##  Exercise - Introduction to Code

Throughout this lecture, we will be facilitating an end-to-end audit of this audit code in production. In groups, answer the following: 
 - Who are the parties involved? 
 - What are the states in the contract? 

---
class: col-3
# Security of Code 

Common smart contract vulnerabilities include: 

- Arithmetic Overflow/Underflow 
- Mismatched visibility modifiers on certain functions 
- Re-entrancy attacks 
- Misuse of tx.origin and msg.sender 
- Force-sending funds into a contract
- Reliance on external libraries 
- Exceptions not handled correctly
- Incorrect authorization on a contract

---

# Exercise - Auditing Contracts

In groups of 2-3, identify security problems in the codebase. 

- For each problem, identify potential solutions
- From your solutions, choose the “best” one

---
class: title

# Code Walkthrough
---
class: title
# Architecture and Design
---
class: title

**What are some benefits of decentralized technologies over centralized technologies?**

**What are things we need to be careful of?**
---
# Guidelines

- Never store private key
- Never change state of a contract without proper permission 
- Ensure all parties of a smart contract have equal rights

---
# Exercise - Architectural Design

Looking at the smart contracts, determine if there are any instsances of improper design: 
   - Identify any other problems 
   - What are some potential solutions? Out of those, which is the best one? 

---
class: title
# Code Quality

---
# Code Quality

 - Correctness
 - Readability
 - Improving Scalability

---
class: title
# Code Quality - Correctness

## It&#39;s not a bug, it&#39;s a feature.

---
## It&#39;s a bug, it&#39;s a feature examples 

 - Gmail undo button functionality 
 - Hiding files in Unix/Linux
 - Mac App Store

---
## Code Quality: Readability

```javascript
var input1 = &#34;String to be inputted&#34;;
var input2 = &#34;number to be inputted&#34;

let output1 = await Contract.methods.function2(input1, input2);
let output2 = await Contract.methods.function1(input2, input1);
```
---
## Code Quality: Readability

 - Avoid commenting - write methods that explain what they do
 - DRY

---

# Exercise - Critique the Code 

Looking at the same codebase, answer the following questions: 
 - Is there anything confusing in the code? 
 - How would you change those to make it more readable? 

---
class: title 
# Comparison of Our Results to Actual Audit

---
# Lab: Compile an Audit 

Using your previous assignment from Smart Contract Essentials/Design Patterns, audit your code in terms of the following: 
 - Code Security
 - Design Decisions/Architecture
 - Code Quality
</textarea>
    <script type="text/javascript" src="natchineth.com/js/qrcode.js"></script>
    <script src="natchineth.com/js/remark.js"></script>
    <script>
      var slideshow = remark.create({
          ratio: "16:9", 
         navigation: {
            scroll: false
         },
         countIncrementalSlides: false,
         slideNumberFormat: '%current%',
			highlightLanguage: "xaprb",
			placeholder: "dummy value to end the list without a comma"
      });

		
		
		$(".remark-slide-content.fit-h1 h1").each(function(i, e) {
			var $e = $(e);
			var $p = $e.closest('div.remark-slide-container');
			var needsToggle = !$p.hasClass('remark-visible');
			if ( needsToggle ) $p.toggleClass('remark-visible');
			while (e.scrollHeight > e.clientHeight + 1 && $e.css('font-size') != '1px') {
				$e.css('font-size', (parseInt($e.css('font-size')) - 1) + "px");
				
				
			}
			if ( needsToggle ) $p.toggleClass('remark-visible');
		});

		$( function() {
			if ( $( "body.feature-qrcode:not(.feature-noqrcode)" ).length ) {
				if ( $( ".qrcode" ).length ) {
					new QRCode($(".qrcode")[0], {
						"useSVG": true,
						"text": window.location.href.replace(/#\d*$/, "")
					});
				}
			}
		});

    </script>

		</main>
		
  

		
		
  

	
	
	</body>
</html>
